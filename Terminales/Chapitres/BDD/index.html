<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Base de donn√©es - TAQ</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Base de donn\u00e9es";
        var mkdocs_page_input_path = "Terminales/Chapitres/BDD.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> TAQ
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Accueil</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cours</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Secondes</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../Secondes/Secondes/">Accueil</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Secondes/exposes/">Expos√©s</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Secondes/Chapitres/Internet/">Internet</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Premi√®res</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../Premieres/Premieres/">Accueil</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Premieres/Chapitres/Types_de_base_int/">Types de base (entiers)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Premieres/Chapitres/Types_de_base_float/">Types de base (flottants)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Premieres/Chapitres/Types_de_base_bool/">Types de base (bool√©ens)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../Premieres/Chapitres/Types_de_base_str/">Types de base (cha√Ænes de caract√©res)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Terminales</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../Terminales/">Accueil</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../POO/">Programmation Orient√©e Objet</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Base de donn√©es</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#objectifs-du-chapitre">Objectifs du chapitre</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#le-modele-relationnel">Le mod√®le relationnel</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#problemes-redondance-et-anomalies">Probl√®mes : Redondance et anomalies</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#representation-le-schema-relationnel">Repr√©sentation : Le sch√©ma relationnel</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exercice-base-de-donnees-pour-une-bibliotheque">Exercice : Base de donn√©es pour une biblioth√®que</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enonce">√ânonc√©</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enonce_1">√ânonc√©</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#le-systeme-de-gestion-de-bases-de-donnees-relationnelles-sgbdr">Le Syst√®me de Gestion de Bases de Donn√©es Relationnelles (SGBDR)</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-persistance-des-donnees">1. Persistance des donn√©es</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-gestion-des-acces-concurrents">2. Gestion des acc√®s concurrents</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-efficacite-du-traitement-des-requetes">3. Efficacit√© du traitement des requ√™tes</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-securisation-des-acces">4. S√©curisation des acc√®s</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#5-bilan">5. Bilan</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sql">SQL</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#introduction_1">Introduction</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#les-composants-dune-requete-sql">Les composants d‚Äôune requ√™te SQL</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#requetes-dinterrogation">Requ√™tes d‚Äôinterrogation</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#exercices">Exercices</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#requetes-de-mise-a-jour">Requ√™tes de mise √† jour</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">TAQ</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Cours</li>
          <li class="breadcrumb-item">Terminales</li>
      <li class="breadcrumb-item active">Base de donn√©es</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="bases-de-donnees">Bases de donn√©es</h1>
<h2 id="objectifs-du-chapitre">Objectifs du chapitre</h2>
<p>√Ä la fin de ce cours, vous devez √™tre capables de :<br />
- Comprendre le mod√®le relationnel (tables, attributs, cl√©s).<br />
- Distinguer structure et contenu d‚Äôune base de donn√©es.<br />
- Manipuler une base de donn√©es via SQL (interrogation et mise √† jour).<br />
- Conna√Ætre le r√¥le d‚Äôun SGBD (s√©curit√©, efficacit√©, persistance).<br />
- Porter un regard critique sur l‚Äôusage des donn√©es (confidentialit√©, RGPD).  </p>
<hr />
<h2 id="introduction">Introduction</h2>
<p>Une <strong>donn√©e</strong> est une repr√©sentation √©l√©mentaire d'une information, 
exprim√©e sous une forme interpr√©table par un syst√®me informatique.</p>
<p>Une <strong>base de donn√©es</strong> est un outil permettant de stocker, organiser et manipuler de grandes quantit√©s de donn√©es.<br />
Exemples :<br />
- Amazon ‚Üí millions de commandes et utilisateurs.<br />
- Spotify ‚Üí catalogues de musiques, playlists personnelles.<br />
- Un lyc√©e ‚Üí notes, emplois du temps, enseignants, salles.  </p>
<p>Les simples <strong>tableaux</strong> vus en Premi√®re ne suffisent plus : il faut un mod√®le plus robuste ‚Üí <strong>le mod√®le relationnel</strong>.</p>
<hr />
<h2 id="le-modele-relationnel">Le mod√®le relationnel</h2>
<p>Une <strong>table</strong> est une structure qui permet de stocker des donn√©es dans une base de donn√©es relationnelle.
Elle est compos√©e :<br />
- de colonnes (appel√©es <strong>attributs</strong>) qui d√©crivent la nature des donn√©es<br />
- de lignes (appel√©es tuples ou <strong>enregistrements</strong>) qui contiennent les valeurs concr√®tes  </p>
<p>Voici un exemple :
La table : Eleve
<img alt="table_eleve" src="../table_eleves.png" /></p>
<p>Chaque attribut est d√©fini sur un domaine de valeurs.<br />
Le domaine n‚Äôest pas seulement le type de donn√©e (entier, texte, date), mais aussi parfois des contraintes suppl√©mentaires (ex. : √¢ge ‚â• 0, email respectant un format particulier, etc).</p>
<p>Pour identifier de mani√®re unique chaque ligne (chaque enregistrement) d‚Äôune table, on utilisera ce qu'on appelle une <strong>cl√© primaire</strong> qui peut √™tre un attribut ou un ensemble d‚Äôattributs.</p>
<ul>
<li>Elle doit √™tre unique : deux lignes ne peuvent pas avoir la m√™me valeur de cl√© primaire.</li>
<li>Elle doit √™tre non nulle (NOT NULL).</li>
<li>Elle ne doit pas changer dans le temps (stabilit√©).</li>
</ul>
<p><span style="color:blue">Exercices</span> : Determiner la cl√© primaire ainsi que les domaines et contraintes des attributs de la classe Eleve.</p>
<p>Tr√®s souvent, la cl√© primaire est constitu√©e d‚Äôun unique attribut d√©fini comme un identifiant num√©rique unique et auto-incr√©ment√©, garantissant l‚Äôunicit√© et la stabilit√© des enregistrements.</p>
<h3 id="problemes-redondance-et-anomalies">Probl√®mes : Redondance et anomalies</h3>
<ul>
<li>
<p>Professeurs r√©p√©t√©s :<br />
Le professeur principal de la classe 1A (M. Beline) appara√Æt plusieurs fois (Alice et C√©dric).<br />
Si le professeur principal devait changer, il faudrait alors le corriger partout, sinon incoh√©rence.  </p>
</li>
<li>
<p>Ann√©es li√©es aux classes :<br />
L‚Äô"Ann√©e" est implicitement li√©e √† la "Classe". On stocke plusieur fois la m√™me information : la 1A est une classe de premi√®re.</p>
</li>
</ul>
<p><strong>Les anomalies :</strong><br />
- d'<strong>insertion</strong> : si on veut enregistrer une classe qui n'a pas encore d'√©l√®ve, on ne peut pas<br />
- de <strong>mise √† jour</strong>¬†: si un professeur change de nom, il faut le modifier partout dans la base sinon incoh√©rence<br />
- de <strong>suppression</strong>¬†: Si on supprime tous les √©l√®ves de la classe 1A, on perd toute les informations sur cette derni√®re  </p>
<p>Afin d‚Äô√©viter les redondances et les anomalies, on s√©pare les informations dans plusieurs tables reli√©es entre elles par des cl√©s √©trang√®res.<br />
Une <strong>cl√© √©trang√®re</strong> est un attribut (ou un ensemble d‚Äôattributs) d‚Äôune table qui fait r√©f√©rence √† la <strong>cl√© primaire d‚Äôune autre table</strong>.<br />
Elle permet de <strong>lier deux tables entre elles</strong> et d‚Äôassurer la coh√©rence des donn√©es.  </p>
<p>Dans notre exemple, il est pertinent d'utiliser deux classes : Eleve et Classe.
<img alt="tables" src="../tables_eleves.png" /></p>
<h3 id="representation-le-schema-relationnel">Repr√©sentation : Le sch√©ma relationnel</h3>
<p>Le <strong>sch√©ma relationnel</strong> d√©crit la <strong>structure d‚Äôune base de donn√©es</strong> relationnelle de mani√®re formelle.<br />
Il pr√©cise pour chaque table :<br />
- Le <strong>nom de la table</strong>.<br />
- Les <strong>attributs</strong> (colonnes) avec leur domaine de valeurs et leurs contraintes (type, non null, valeurs autoris√©es).<br />
- La <strong>cl√© primaire</strong>, qui identifie de mani√®re unique chaque enregistrement.<br />
- Les <strong>cl√©s √©trang√®res</strong>, qui √©tablissent les liens avec d‚Äôautres tables.  </p>
<p>Le sch√©ma relationnel est ind√©pendant des donn√©es r√©elles (contenu).<br />
Il sert de <strong>plan directeur</strong> pour construire, maintenir et interroger la base de donn√©es tout en garantissant l‚Äôint√©grit√© des informations et en √©vitant les redondances.  </p>
<p>Exemple simple : 
<img alt="Schema" src="../schema_relationnel.png" /></p>
<p>Le symbole <code>#</code> sert √† identifier les cl√©s primaires, les attributs soulign√©s sont les cl√©s √©trang√®res r√©f√©rencant la cl√© primaire point√©e par la fl√®che.</p>
<p>Gr√¢ce √† ce sch√©ma, on sait <strong>quelles tables existent</strong>, <strong>comment elles sont reli√©es</strong>.</p>
<hr />
<h2 id="exercice-base-de-donnees-pour-une-bibliotheque">Exercice : Base de donn√©es pour une biblioth√®que</h2>
<h3 id="enonce">√ânonc√©</h3>
<p>Vous devez concevoir une base de donn√©es pour g√©rer les informations suivantes :  </p>
<p>Imaginez que vous travaillez dans une biblioth√®que. Votre mission est de cr√©er un syst√®me permettant de suivre toutes les informations importantes pour g√©rer les livres et leurs emprunts.  </p>
<p>Chaque livre poss√®de des caract√©ristiques comme le titre, l‚Äôauteur et la date de publication. Pour ne pas confondre deux livres identiques, chaque exemplaire dispose d‚Äôun ISBN. Les clients qui fr√©quentent la biblioth√®que ont chacune un pr√©nom, un nom, une date de naissance et une adresse mail. On doit pouvoir distinguer facilement chaque lecteur. Enfin, la biblioth√®que souhaite suivre les emprunts : pour chaque livre pr√™t√©, on conna√Æt la date √† laquelle il a √©t√© emprunt√©, la date pr√©vue de retour, le livre concern√© et la personne qui l‚Äôa emprunt√©.  </p>
<p>√Ä partir de ce sc√©nario, r√©fl√©chissez √† la meilleure fa√ßon d‚Äôorganiser ces informations pour √©viter les r√©p√©titions et faciliter les recherches.</p>
<p><strong>Consignes :</strong></p>
<ol>
<li>Identifiez les <strong>tables</strong> n√©cessaires.  </li>
<li>Pour chaque table, indiquez les <strong>attributs</strong>, leur <strong>domaine de valeurs</strong> et les <strong>contraintes</strong>.  </li>
<li>D√©terminez la <strong>cl√© primaire</strong> pour chaque table.  </li>
<li>Identifiez les <strong>cl√©s √©trang√®res</strong> pour relier les tables entre elles.  </li>
<li>Dessinez le <strong>sch√©ma relationnel</strong> correspondant.</li>
</ol>
<h3 id="enonce_1">√ânonc√©</h3>
<p>Vous devez concevoir une base de donn√©es pour g√©rer les informations d‚Äôun garage automobile.<br />
Votre mission est de cr√©er un syst√®me permettant de suivre toutes les informations n√©cessaires sur les v√©hicules, les clients et les r√©parations effectu√©es.  </p>
<p>Chaque v√©hicule poss√®de une immatriculation, un propri√®taire, une marque, un mod√®le et une ann√©e de fabrication.<br />
Chaque client a un pr√©nom, un nom, une adresse et un num√©ro de t√©l√©phone.<br />
Enfin, le garage souhaite suivre les r√©parations : pour chaque intervention, on doit enregistrer la date, la description des travaux r√©alis√©s, le v√©hicule concern√© et le m√©canicien responsable.<br />
Les m√©caniciens sont identifi√©s par un matricule et ont un nom ainsi qu‚Äôune sp√©cialit√© (moteur, carrosserie, √©lectronique‚Ä¶).  </p>
<p>√Ä partir de ce sc√©nario, r√©fl√©chissez √† la meilleure fa√ßon d‚Äôorganiser ces informations pour √©viter les r√©p√©titions et faciliter les recherches.</p>
<hr />
<p><strong>Consignes :</strong></p>
<ol>
<li>Identifiez les <strong>tables</strong> n√©cessaires.  </li>
<li>Pour chaque table, indiquez les <strong>attributs</strong>, leur <strong>domaine de valeurs</strong> et les <strong>contraintes</strong>.  </li>
<li>D√©terminez la <strong>cl√© primaire</strong> pour chaque table.  </li>
<li>Identifiez les <strong>cl√©s √©trang√®res</strong> pour relier les tables entre elles.  </li>
<li>Dessinez le <strong>sch√©ma relationnel</strong> correspondant.</li>
</ol>
<hr />
<h2 id="le-systeme-de-gestion-de-bases-de-donnees-relationnelles-sgbdr">Le Syst√®me de Gestion de Bases de Donn√©es Relationnelles (SGBDR)</h2>
<p>Jusqu‚Äôici, nous avons √©tudi√© le <strong>mod√®le relationnel</strong> : tables, cl√©s primaires, cl√©s √©trang√®res, sch√©ma relationnel.<br />
Mais pour exploiter concr√®tement ces concepts, il faut un logiciel capable de <strong>cr√©er, g√©rer et interroger</strong> des bases de donn√©es : c‚Äôest le r√¥le d‚Äôun <strong>Syst√®me de Gestion de Bases de Donn√©es Relationnelles (SGBDR)</strong>.</p>
<p>Un SGBDR (comme MySQL, PostgreSQL, SQLite, Oracle, SQL Server) rend plusieurs <strong>services essentiels</strong> :  </p>
<hr />
<h3 id="1-persistance-des-donnees">1. Persistance des donn√©es</h3>
<p>Un SGBDR assure que les donn√©es sont <strong>stock√©es durablement</strong> sur un support non volatil (disque, SSD).<br />
Contrairement aux simples structures en m√©moire (listes, tableaux), les donn√©es sont conserv√©es m√™me apr√®s l‚Äôarr√™t ou la panne du syst√®me.<br />
Exemple : les commandes d‚ÄôAmazon ou les playlists Spotify ne disparaissent pas quand on √©teint son ordinateur.</p>
<h3 id="2-gestion-des-acces-concurrents">2. Gestion des acc√®s concurrents</h3>
<p>Plusieurs utilisateurs ou programmes peuvent acc√©der √† la base <strong>en m√™me temps</strong>.<br />
Le SGBDR garantit que les donn√©es restent <strong>coh√©rentes</strong>, m√™me si deux personnes modifient simultan√©ment la m√™me information.<br />
Exemple : deux employ√©s de banque qui consultent et modifient le solde d‚Äôun compte en parall√®le.</p>
<h3 id="3-efficacite-du-traitement-des-requetes">3. Efficacit√© du traitement des requ√™tes</h3>
<p>Le SGBDR optimise automatiquement l‚Äôex√©cution des requ√™tes SQL (s√©lection, jointures, filtrages) gr√¢ce √† des m√©canismes comme les <strong>index</strong>.<br />
L‚Äôutilisateur n‚Äôa pas besoin de savoir <em>comment</em> les donn√©es sont stock√©es physiquement : le syst√®me se charge d‚Äôobtenir la r√©ponse <strong>rapidement et efficacement</strong>.<br />
Exemple : retrouver un client pr√©cis parmi des millions d‚Äôenregistrements en une fraction de seconde.</p>
<h3 id="4-securisation-des-acces">4. S√©curisation des acc√®s</h3>
<p>Le SGBDR contr√¥le <strong>qui a le droit</strong> de lire, modifier ou supprimer certaines donn√©es.<br />
- Gestion des comptes utilisateurs.<br />
- Attribution de <strong>privil√®ges</strong> (ex. : un √©l√®ve peut consulter ses notes, mais pas celles des autres).<br />
- Protection contre les acc√®s non autoris√©s.<br />
Exemple : dans une base de donn√©es d‚Äôun h√¥pital, seuls les m√©decins ont acc√®s aux dossiers m√©dicaux des patients.</p>
<h3 id="5-bilan">5. Bilan</h3>
<p>Le SGBDR n‚Äôest pas seulement un outil de stockage :<br />
- Il garantit la <strong>durabilit√©</strong> des donn√©es.<br />
- Il g√®re les <strong>conflits d‚Äôacc√®s simultan√©s</strong>.<br />
- Il optimise l‚Äô<strong>efficacit√© des recherches</strong>.<br />
- Il s√©curise l‚Äô<strong>acc√®s aux informations sensibles</strong>.  </p>
<p>Ces services sont indispensables pour comprendre pourquoi les bases de donn√©es relationnelles sont utilis√©es partout dans le monde num√©rique.</p>
<h2 id="sql">SQL</h2>
<h3 id="introduction_1">Introduction</h3>
<p>Le langage <strong>SQL</strong> (Structured Query Language) permet d‚Äôinterroger et de modifier des bases de donn√©es relationnelles.<br />
Nous allons voir les principales instructions pour <strong>s√©lectionner</strong>, <strong>ajouter</strong>, <strong>modifier</strong> ou <strong>supprimer</strong> des donn√©es.</p>
<p>Pour illustrer les exemples, on utilisera la base suivante :</p>
<p><strong>Table <code>Eleve</code></strong>  </p>
<table>
<thead>
<tr>
<th>id_eleve</th>
<th>nom</th>
<th>prenom</th>
<th>classe</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Martin</td>
<td>Alice</td>
<td>TNSI</td>
<td>17</td>
</tr>
<tr>
<td>2</td>
<td>Dupont</td>
<td>Lucas</td>
<td>TNSI</td>
<td>18</td>
</tr>
<tr>
<td>3</td>
<td>Durand</td>
<td>Emma</td>
<td>TES</td>
<td>17</td>
</tr>
<tr>
<td>4</td>
<td>Bernard</td>
<td>Hugo</td>
<td>TNSI</td>
<td>18</td>
</tr>
</tbody>
</table>
<p><strong>Table <code>Note</code></strong></p>
<table>
<thead>
<tr>
<th>id_note</th>
<th>id_eleve</th>
<th>matiere</th>
<th>valeur</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>NSI</td>
<td>15</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>NSI</td>
<td>12</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>Maths</td>
<td>14</td>
</tr>
<tr>
<td>4</td>
<td>3</td>
<td>NSI</td>
<td>17</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="les-composants-dune-requete-sql">Les composants d‚Äôune requ√™te SQL</h3>
<p>Une requ√™te SQL est compos√©e de plusieurs parties :<br />
- <strong>SELECT</strong> : les colonnes √† afficher<br />
- <strong>FROM</strong> : les tables utilis√©es<br />
- <strong>WHERE</strong> : condition(s) de filtrage (optionnel)<br />
- <strong>JOIN</strong> : pour relier plusieurs tables (optionnel)  </p>
<hr />
<h3 id="requetes-dinterrogation">Requ√™tes d‚Äôinterrogation</h3>
<p><strong>Afficher toutes les colonnes</strong></p>
<pre><code class="language-sql">SELECT * 
FROM Eleve;
</code></pre>
<p>Affiche toutes les informations de la table <code>Eleve</code>.</p>
<hr />
<p><strong>S√©lectionner certaines colonnes</strong></p>
<pre><code class="language-sql">SELECT nom, prenom
FROM Eleve;
</code></pre>
<p>Affiche uniquement le nom et le pr√©nom des √©l√®ves.</p>
<hr />
<p><strong>Supprimer les doublons avec DISTINCT</strong></p>
<pre><code class="language-sql">SELECT DISTINCT classe
FROM Eleve;
</code></pre>
<p>Affiche la liste des classes sans r√©p√©tition (<code>TNSI</code>, <code>TES</code>).</p>
<hr />
<p><strong>Filtrer avec WHERE</strong></p>
<pre><code class="language-sql">SELECT nom, prenom 
FROM Eleve
WHERE age = 18;
</code></pre>
<p>Affiche les √©l√®ves ayant 18 ans.</p>
<hr />
<p><strong>Trier les r√©sultats avec ORDER BY</strong></p>
<pre><code class="language-sql">SELECT nom, prenom, age
FROM Eleve
ORDER BY age DESC;
</code></pre>
<p>Classe les √©l√®ves par √¢ge d√©croissant.</p>
<hr />
<p><strong>Utiliser les fonctions d‚Äôagr√©gation</strong>
- <strong>AVG()</strong> : moyenne<br />
- <strong>MIN()</strong> / <strong>MAX()</strong> : minimum, maximum<br />
- <strong>COUNT()</strong> : compter le nombre de valeurs<br />
- <strong>SUM()</strong> : somme</p>
<p>Exemple :  </p>
<pre><code class="language-sql">SELECT AVG(valeur) 
FROM Note
WHERE matiere = 'NSI';
</code></pre>
<p>Moyenne des notes en NSI.</p>
<hr />
<p><strong>Requ√™tes imbriqu√©es (sous-requ√™tes)</strong></p>
<p>Une <strong>requ√™te imbriqu√©e</strong> (ou <em>sous-requ√™te</em>) est une requ√™te SQL plac√©e <strong>√† l‚Äôint√©rieur</strong> d‚Äôune autre requ√™te.<br />
Elle permet de filtrer ou de calculer des r√©sultats interm√©diaires.</p>
<p>Exemples :</p>
<pre><code class="language-sql">SELECT nom, prenom
FROM Eleve
WHERE id_eleve IN (
    SELECT id_eleve
    FROM Note
    WHERE valeur &gt; 15
);

SELECT nom, prenom
FROM Eleve
WHERE age = (
    SELECT MAX(age)
    FROM Eleve
);

SELECT nom, prenom,
       (SELECT AVG(valeur)
        FROM Note
        WHERE Note.id_eleve = Eleve.id_eleve) AS moyenne
FROM Eleve;

SELECT nom, prenom
FROM Eleve E
WHERE age &gt; (
    SELECT AVG(age)
    FROM Eleve
    WHERE classe = E.classe
);

</code></pre>
<hr />
<h3 id="exercices">Exercices</h3>
<p>Voici un base de donn√©es repertoriant les 151 premiers pokemons :<br />
<a href="../pokemon151.sqbpro">üíæ T√©l√©charger pokemon.db</a></p>
<table>
<thead>
<tr>
<th>pokemon</th>
</tr>
</thead>
<tbody>
<tr>
<td># numero   (int)</td>
</tr>
<tr>
<td>nom    (text)</td>
</tr>
<tr>
<td>type1  (text)</td>
</tr>
<tr>
<td>type2  (text)</td>
</tr>
<tr>
<td>taille (float)</td>
</tr>
<tr>
<td>poids  (float)</td>
</tr>
<tr>
<td><u>evolution</u>   (int)</td>
</tr>
</tbody>
</table>
<p>L'attribut <code>evolution</code> est une cl√© √©trang√®re qui r√©f√©rence l'attribut <code>numero</code>.</p>
<p>Voici les diff√©rents types qui existent :</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Plante</td>
<td>Feu</td>
<td>Eau</td>
<td>Insecte</td>
<td>Normal</td>
</tr>
<tr>
<td>Poison</td>
<td>√âlectrik</td>
<td>Sol</td>
<td>F√©e</td>
<td>Combat</td>
</tr>
<tr>
<td>Psy</td>
<td>Roche</td>
<td>Spectre</td>
<td>Glace</td>
<td>null</td>
</tr>
</tbody>
</table>
<p>Chaque pokemon a obligatoirement un <code>type1</code>, mais <code>type2</code> peut √™tre √©gal √† <code>null</code>.</p>
<p>Pour v√©rifier qu'un √©l√©ment est null on utilisera le mot cl√© <code>is</code> (exemple : evolution is null).</p>
<p><strong>Requ√™tes</strong></p>
<p>√©crire en les requ√™tes SQL suivantes :</p>
<ol>
<li>Afficher tous la table <code>pokemon</code></li>
<li>Afficher tous les <code>noms</code> et <code>num√©ro</code> des pokemons</li>
<li>Afficher toutes les combinaisons de <code>types</code> pr√©sentes dans la table</li>
<li>Probl√®me : on a beaucoup de fois la m√™me combinaison : afficher toutes les combinaisons diff√©rentes</li>
<li>Afficher tous les pokemons de type <code>Eau</code> qui en sont √† leur premier stade d'√©volution (c'est √† dire que l'attribut <code>evolution</code> est √† <code>null</code>)</li>
<li>Afficher les pokemons du plus grand au plus petit</li>
<li>Afficher les pokemons dans l'ordre alphabetique inverse</li>
<li>Afficher la <code>taille</code> moyenne des pokemons de type <code>Insecte</code></li>
<li>Afficher le plus petit des pokemons ainsi que le plus gros</li>
<li>Afficher le nombre de pokemon de type <code>Spectre</code></li>
<li>Afficher la somme des poids des pokemons de type <code>Feu</code> dont la <code>taille</code> d√©passe le m√®tre</li>
<li>Afficher les Pok√©mon dont le deuxi√®me type est <code>Poison</code> et dont la <code>taille</code> est sup√©rieure √† 1 m√®tre</li>
<li>Afficher les Pok√©mon dont le <code>poids</code> est sup√©rieur √† la moyenne du <code>poids</code> de tous les Pok√©mon</li>
<li>Afficher le <code>nom</code> et le <code>type</code> des Pok√©mon dont la <code>taille</code> est comprise entre 1 m√®tre et 2 m√®tres, tri√©s par <code>taille</code> d√©croissante</li>
<li>Afficher les Pok√©mon dont la somme des <code>tailles</code> et des <code>poids</code> est sup√©rieure √† 50</li>
</ol>
<hr />
<p><strong>Relier plusieurs tables avec JOIN</strong></p>
<pre><code class="language-sql">SELECT Eleve.nom, Eleve.prenom, Note.matiere, Note.valeur
FROM Eleve
JOIN Note ON Eleve.id_eleve = Note.id_eleve;
</code></pre>
<p>Affiche le nom, le pr√©nom et les notes des √©l√®ves.</p>
<p><strong>Alias avec AS et auto-jointures</strong></p>
<ul>
<li><code>AS</code> permet de donner un <strong>nom temporaire</strong> √† une colonne ou une table.  </li>
<li>Utile pour simplifier les requ√™tes et faire des jointures sur soi-m√™me.  </li>
</ul>
<p>Exemple d‚Äô<strong>auto-jointure</strong> : trouver les paires d‚Äô√©l√®ves d‚Äôune m√™me classe.  </p>
<pre><code class="language-sql">SELECT E1.nom AS Eleve1, E2.nom AS Eleve2
FROM Eleve AS E1
JOIN Eleve AS E2 ON E1.classe = E2.classe
WHERE E1.id_eleve &lt; E2.id_eleve;
</code></pre>
<p><strong>Exercice</strong></p>
<p>√©crire en les requ√™tes SQL suivantes :</p>
<ol>
<li>Afficher le <code>nom</code> de chaque Pok√©mon ainsi que le <code>nom</code> de son <code>evolution</code> (si elle existe) en utilisant une auto-jointure sur la colonne <code>evolution</code>.</li>
<li>Afficher tous les Pok√©mon dont le <code>type1</code> est le m√™me que celui de leur <code>evolution</code>.</li>
<li>Afficher le <code>nom</code> des Pok√©mon et les <code>types</code> de leur <code>evolution</code> lorsque le <code>type1</code> principal diff√®re.</li>
<li>Afficher le <code>nom</code> et le <code>type</code> des Pok√©mon dont le type principal diff√®re de celui de l‚Äôevolution mais qui partagent le m√™me type secondaire.</li>
<li>Afficher les Pok√©mon et le <code>nom</code> de leur <code>evolution</code> uniquement si le <code>taille</code> de l‚Äô√©volution est inf√©rieur √† celui du Pok√©mon initial.</li>
</ol>
<hr />
<h3 id="requetes-de-mise-a-jour">Requ√™tes de mise √† jour</h3>
<p><strong>Ajouter une donn√©e (INSERT)</strong></p>
<pre><code class="language-sql">INSERT INTO Eleve (id_eleve, nom, prenom, classe, age)
VALUES (5, 'Lemoine', 'Clara', 'TES', 17);
</code></pre>
<p>Ajoute une nouvelle √©l√®ve.</p>
<hr />
<p><strong>Modifier une donn√©e (UPDATE)</strong></p>
<pre><code class="language-sql">UPDATE Eleve
SET age = 19
WHERE nom = 'Dupont' AND prenom = 'Lucas';
</code></pre>
<p>Met √† jour l‚Äô√¢ge de Lucas Dupont.</p>
<hr />
<p><strong>Supprimer une donn√©e (DELETE)</strong></p>
<pre><code class="language-sql">DELETE FROM Eleve
WHERE id_eleve = 4;
</code></pre>
<p>Supprime Hugo Bernard de la base.</p>
<p><strong>Exercice</strong></p>
<p>√©crire en les requ√™tes SQL suivantes (pour chacune d'entre elle, v√©rifier que les mises √† jour ont bien √©t√©es effectu√©es avec des requ√™tes d'interrogation):</p>
<ol>
<li>Ajouter les pok√©mons que vous voulez dans la table. Vous pouvez chercher les infos sur internet ou bien en inventer.</li>
<li>Modifier ces donn√©es</li>
<li>Afficher le nombre de pok√©mon de type <code>Eau</code>. Ensuite supprimer tous les pok√©mons de type <code>Eau</code> de la table. (Il y en a vraiment trop)</li>
</ol>
<hr />
<p><a href="https://www.lyceum.fr/tg/nsi/2-bases-de-donnees/3-langage-sql/exo/">Exercice type bac</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../POO/" class="btn btn-neutral float-left" title="Programmation Orient√©e Objet"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../POO/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
